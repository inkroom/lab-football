<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.nsu.edu.web.four.daos.jdbc.team.TeamInfosToPlayerMapper">

    <insert id="insertPlayerInfo">

        insert into M_Team_Player
        (player_id,team_id,join_time,status)
        VALUES
        <foreach collection="playerIds" item="id" index="index"
                 separator=",">
            (
            #{id}, #{teamId}, NOW(),0
            )
        </foreach>

    </insert>

    <select id="selectAllPlayersByTeamId" resultType="Integer" parameterType="Integer">

        SELECT DISTINCT player_id
        FROM M_Team_Player
        WHERE team_id = #{dbTeamId}

    </select>

</mapper>